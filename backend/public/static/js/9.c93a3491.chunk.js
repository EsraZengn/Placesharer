(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{135:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a.n(n),c=a(53),i=a(10),l=a(0),s=a.n(l),o=a(8),u=a(82),p=a(58),d=a(84),m=a(11),f=a(86),v=a(49),b=a(15),h=a(55),E=a(59);a(87);t.default=function(){var e=Object(l.useContext)(m.a),t=Object(p.a)(),a=t.isLoading,n=t.error,j=t.sendRequest,O=t.clearError,x=Object(l.useState)(),k=Object(i.a)(x,2),y=k[0],V=k[1],T=Object(o.h)().placeId,w=Object(o.g)(),A=Object(d.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!0),C=Object(i.a)(A,3),N=C[0],P=C[1],g=C[2];Object(l.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j("".concat("https://placesharerapp.herokuapp.com/api","/places/").concat(T),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:a=t.sent,V(a.place),g({title:{value:a.place.title,isValid:!0},description:{value:a.place.description,isValid:!0}},!0),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e.token,T,j,g]);var I=function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,j("".concat("https://placesharerapp.herokuapp.com/api","/places/").concat(T),"PATCH",JSON.stringify({title:N.inputs.title.value,description:N.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)});case 4:w.push("/".concat(e.userId,"/places")),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return a?s.a.createElement("div",{className:"center"},s.a.createElement(b.a,null)):y||n?s.a.createElement(s.a.Fragment,null,s.a.createElement(E.a,{error:n,onClear:O}),!a&&y&&s.a.createElement("form",{className:"place-form",onSubmit:I},s.a.createElement(f.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(u.c)()],errorText:"Please enter a valid title.",onInput:P,initialValue:y.title,initialValid:!0}),s.a.createElement(f.a,{id:"description",element:"textArea",type:"text",label:"Description",validators:[Object(u.b)(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:P,initialValue:y.description,initialValid:!0}),s.a.createElement(v.a,{type:"submit",disabled:!N.isValid},"UPDATE PLACE"))):s.a.createElement("div",{className:"center"},s.a.createElement(h.a,null,s.a.createElement("h2",null,"Could not find place!")))}},55:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(66);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},66:function(e,t,a){},87:function(e,t,a){}}]);
//# sourceMappingURL=9.c93a3491.chunk.js.map